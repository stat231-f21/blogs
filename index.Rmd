---
title: "Data Delights"
subtitle: "*A data-driven blog from Amherst College*"
author: "Data Science students and Prof. Brittney E. Bailey"
date: "Fall 2021"
output:
  rmdformats::downcute
---
  
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

library(tidyverse)
library(fontawesome)
library(emojifont)
library(kableExtra)
library(rvest)
 
# google fonts
#https://fonts.google.com/

#customizing
#https://rstudio4edu.github.io/rstudio4edu-book/doc-fancy.html
```

<!--
https://developers.google.com/fonts/docs/css2
-->

```{css font}
@import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300&display=swap');

body {
    font-family: 'Josefin Sans';
}

h1, h2, h3, h4, h5, h6, legend {
  font-family: 'Josefin Sans';
  color: #3f1f69
}

code {
  color: #3f1f69;
}

/*----------------- links ---------------------*/
a { 
  color: #3f1f69 !important;
}

a:hover {
 background-color: #3f1f69 !important;
}

```


```{css, eval = FALSE}
body {
    font-family: 'Poppins';
}

h1, h2, h3, h4, h5, h6, legend {
  font-family: 'Poppins';
  color: #3f1f69
}

#sidebar h2 {
background-color: #3f1f69 !important;
  }

#main a {
color: #3f1f69 !important;
  background-image: linear-gradient(180deg,#438a8f,#438a8f);
}

#main .navbar-nav > .active > a { 
background-color: #3f1f69 !important;
  color: white !important;
}

#main li.active a, li a:hover {
background-color: #39224f !important;
}

code {
  color: #3f1f69;
}

/*----------------- links ---------------------*/
a { 
  color: #3f1f69 !important;
}

a:hover {
 background-color: #3f1f69 !important;
}

/*----------LOGO above TOC---------*/
#toc {
  background-image: url("https://media.giphy.com/media/BgfP8Z2NfCQmeJmO9Q/giphy.gif") !important;
  background-repeat: no-repeat;
  background-size: contain;
  background-position: bottom;
}
```

<!--
Amherst gifs:

celebrating mammoth:
https://media.giphy.com/media/BgfP8Z2NfCQmeJmO9Q/giphy.gif

welcome mammoth:
https://media.giphy.com/media/BgfP8Z2NfCQmeJmO9Q/giphy.gif

shining A:
https://media.giphy.com/media/40BFX6KW7GwIsqEheA/giphy.gif

-->

```{r, cache = TRUE}
blogdata <- readxl::read_xlsx("blog-data.xlsx") %>% 
  mutate(team = str_replace_all(repo, "(-)", " ") %>% str_to_title(),
         team = fct_recode(team,
                           "THeHe" = "Thehe",
                           "giRlbosses" = "Girlbosses", 
                           "AAA" = "Aaa"),
         link = ifelse(str_detect(repo, "(group-)"),
                       "https://stat231-s21.github.io/blogs",
                       paste0("https://stat231-s21.github.io/blog_", str_to_lower(repo))),
         index_path = paste0("../blog_", repo, "/index.html"),
         abstract = map_chr(index_path, 
                            ~ tryCatch(read_html(.x) %>% 
                                         html_elements("div p") %>% 
                                         purrr::pluck(3) %>% 
                                         html_text(),
                                       error = function(e) "No description yet...")),
         title = map_chr(index_path, 
                            ~ tryCatch(read_html(.x) %>% 
                                         html_element("h1.title") %>% 
                                         html_text(),
                                       error = function(e) "No link yet...")),
         title_link = paste0("## ", team, ": [*", title, "*](", link, ")"),
         rmd_path = paste0("../blog_", repo, "/index.Rmd"),
         image = paste0("![](", img, ")")) %>% 
  arrange(order)
```

![](img/logo231_moodle.png)


As the semester comes to a close, we are delighted to share some data-driven discoveries from the Fall 2021 sections of Data Science at Amherst College!

# Blog Posts 

```{r, results = "asis"}
for(i in 1:nrow(blogdata)){
  cat(blogdata$title_link[i],
      blogdata$image[i],
      blogdata$abstract[i],
      "\n\n",
      sep = "\n\n")
}
```

<!--
## Food and PUG Administration `r set.seed(15); emo::ji("medicine")`
-->
```{r, eval = FALSE}
table_test %>%
  filter(str_detect(text, "Food-and-PUG-Administration")) %>%
  kable(col.names=NULL, escape=FALSE) %>%
  column_spec(1:2, width = c("50em","50em")
              , border_left = FALSE
              , border_right = FALSE
              , background = colorpal[1]) %>%
 column_spec(1, link = paste0('https://stat231-s21.github.io/Blog-', blog_link_names[1]))
```

# Resources 

* Font is Josefin Sans from [Google fonts](https://fonts.google.com/)
* GIFs are courtesy of [giphy.com](https://www.giphy.com)

